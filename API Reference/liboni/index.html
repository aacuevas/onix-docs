
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>liboni &#8212; ONIX Docs 0.0.0 documentation</title>
    
  <link rel="stylesheet" href="../../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/copyURLToClipboard.js"></script>
    <script src="../../_static/default.js"></script>
    <script src="../../_static/wavedrom.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="onidefs.h" href="onidefs.html" />
    <link rel="prev" title="API Reference" href="../index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    <a class="navbar-brand" href="../../index.html">
    
      <img src="../../_static/onix_open_ephys_logo.svg" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../../About/index.html">About</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../Hardware%20Guide/index.html"> Hardware Guide</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="../index.html"> API Reference</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../Software%20Guide/index.html"> Software Guide</a>
        </li>
        
        
        <li class="nav-item">
            <a class="nav-link nav-external" href="https://open-ephys.org">Open Ephys<i class="fas fa-external-link-alt"></i></a>
        </li>
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/open-ephys/onix-docs" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/openephys" target="_blank" rel="noopener">
              <span><i class="fab fa-twitter-square"></i></span>
            </a>
          </li>
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

    <div class="bd-toc-item active">
    
  
    <ul class="nav bd-sidenav">
        
        
        
        
        
        
          
            
  
                <li class="active">
                    <a href="">liboni</a>
                    <ul>
                    
                        <li class="">
                            <a href="onidefs.html">onidefs.h</a>
                        </li>
                    
                        <li class="">
                            <a href="oni.html">oni.h</a>
                        </li>
                    
                        <li class="">
                            <a href="onidriver.html">onidriver.h</a>
                        </li>
                    
                        <li class="">
                            <a href="onix.html">onix.h</a>
                        </li>
                    
                        <li class="">
                            <a href="build.html">Building liboni</a>
                        </li>
                    
                        <li class="">
                            <a href="liboni-example.html">Examples</a>
                        </li>
                    
                        <li class="">
                            <a href="making-drivers.html">Writing Drivers</a>
                        </li>
                    
                    </ul>
                </li>
            
          
            
                <li class="">
                    <a href="../cpponi/index.html">cpponi</a>
                </li>
            
          
            
                <li class="">
                    <a href="../clroni/index.html">clroni</a>
                </li>
            
          
            
                <li class="">
                    <a href="../drivers/index.html">Hardware Translation Layers</a>
                </li>
            
          
        
        
        
        
      </ul>
  
  </nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#source-code" class="nav-link">Source Code</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#scope-and-external-dependencies" class="nav-link">Scope and External Dependencies</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#license" class="nav-link">License</a>
        </li>
    
    </ul>
</nav>



<div class="tocsection editthispage">
    <a href="https://github.com/open-ephys/onix-docs/edit/master/source/API Reference/liboni/index.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="liboni">
<span id="id1"></span><h1>liboni<a class="headerlink" href="#liboni" title="Permalink to this headline">¶</a></h1>
<p>C implementation of the <a class="reference external" href="https://github.com/open-ephys/ONI">Open Neuro Interface API Specification</a></p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="onidefs.html">onidefs.h</a></li>
<li class="toctree-l1"><a class="reference internal" href="oni.html">oni.h</a></li>
<li class="toctree-l1"><a class="reference internal" href="onidriver.html">onidriver.h</a></li>
<li class="toctree-l1"><a class="reference internal" href="onix.html">onix.h</a></li>
<li class="toctree-l1"><a class="reference internal" href="build.html">Building liboni</a></li>
<li class="toctree-l1"><a class="reference internal" href="liboni-example.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="making-drivers.html">Writing Drivers</a></li>
</ul>
</div>
<div class="section" id="source-code">
<h2>Source Code<a class="headerlink" href="#source-code" title="Permalink to this headline">¶</a></h2>
<p>Source code is available in the <a class="reference external" href="https://github.com/jonnew/liboni/tree/main/api/liboni">liboni git repository</a>.</p>
</div>
<div class="section" id="scope-and-external-dependencies">
<h2>Scope and External Dependencies<a class="headerlink" href="#scope-and-external-dependencies" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">liboni</span></code> is a C library that implements the <a class="reference external" href="https://github.com/open-ephys/ONI">ONI API Specification</a>. It is written in C to facilitate cross
platform and cross-language use. It is composed of the following files:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="onidefs.html#onidefs-h"><span class="std std-ref">onidefs.h</span></a>: common definitions</p></li>
<li><p><a class="reference internal" href="oni.html#oni-h"><span class="std std-ref">oni.h</span></a>: core API</p></li>
<li><p><a class="reference internal" href="onidriver.html#onidriver-h"><span class="std std-ref">onidriver.h</span></a>: device driver translation layer that must be
implemented for a particular host hardware connection and
firmware.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ondriverloader.h</span></code>: private functions used for dynamically loading the
hardware driver. This is used internally by the <a class="reference internal" href="oni.html#oni-h"><span class="std std-ref">oni.h</span></a> and can be
ignored during both software and driver development.</p></li>
<li><p><a class="reference internal" href="onix.html#onix-h"><span class="std std-ref">onix.h</span></a>: ONIX-specific, out of ONI API specification
scope, definitions and functions. Can be ignored for projects that
do not interact with ONIX hardware.</p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">liboni</span></code> is a low level library intended for use by high-level language
binding and/or software plugin developers. The only external dependency aside
from the C standard library and dynamic library loading functions is is a
device driver translation layer (<a class="reference internal" href="onidriver.html#onidriver-h"><span class="std std-ref">onidriver.h</span></a>, “driver” for short) that
fulfills the requirements of the ONI Host Interconnect Specification. Our API
implementation contains drivers for</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://github.com/KastnerRG/riffa">RIFFA</a> is a free and open-source,
FPGA IP core and device driver that allows the ONI communication channels to
be implemented using the PCIe bus. <strong>ONIX PCIe-based hardware uses RIFFA.</strong></p></li>
<li><p><a class="reference external" href="http://xillybus.com/">Xillybus</a> is a proprietary FPGA IP cores and free
and open source device drivers to allow the communication channels to be
implemented using the PCIe bus. The licensing terms for the FPGA core are
extremely unclear, although “trial” use is allowed. Use at your own risk.</p></li>
<li><p>FTDI USB3.0: Planned</p></li>
<li><p>Opal-Kelly USB3.0: Planned</p></li>
</ol>
<p>From the API’s perspective, hardware communication abstracted to IO system
calls (<code class="docutils literal notranslate"><span class="pre">open</span></code>, <code class="docutils literal notranslate"><span class="pre">read</span></code>, <code class="docutils literal notranslate"><span class="pre">write</span></code>, etc.) on file descriptors. File
descriptor semantics and behavior are identical to either normal files
(configuration channel) or named pipes (signal, data input, and data output
channels).  Importantly, the low-level synchronization, resource allocation,
and logic required to use the hardware communication backend is implicit to
<code class="docutils literal notranslate"><span class="pre">liboni</span></code> API function calls. Orchestration of the communication backend is
not directly managed by the library user.</p>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/MIT_License">MIT</a></p>
</div>
</div>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="../index.html" title="previous page"> API Reference</a>
    <a class='right-next' id="next-link" href="onidefs.html" title="next page">onidefs.h</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.d3f166471bb80abb5163.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2010-2021, Open Ephys &amp; Contributors.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.4.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>