
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Setup Guide for Windows &#8212; ONIX Docs 0.0.0 documentation</title>
    
  <link rel="stylesheet" href="../../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/copyURLToClipboard.js"></script>
    <script src="http://wavedrom.com/skins/default.js"></script>
    <script src="http://wavedrom.com/wavedrom.min.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Gateware and Device Drivers" href="gateware-drivers.html" />
    <link rel="prev" title="Overview" href="overview.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    <a class="navbar-brand" href="../../index.html">
    
      <img src="../../_static/onix_open_ephys_logo.svg" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../../About/index.html">About</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="../index.html"> Hardware Guide</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../API%20Reference/index.html"> API Reference</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../Software%20Guide/index.html"> Software Guide</a>
        </li>
        
        
        <li class="nav-item">
            <a class="nav-link nav-external" href="https://open-ephys.org">Open Ephys<i class="fas fa-external-link-alt"></i></a>
        </li>
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/open-ephys/onix-docs" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/openephys" target="_blank" rel="noopener">
              <span><i class="fab fa-twitter-square"></i></span>
            </a>
          </li>
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

    <div class="bd-toc-item active">
    
  
    <ul class="nav bd-sidenav">
        
        
        
        
          
            
                <li class="">
                    <a href="../hw-repo-info.html">Repository Information</a>
                </li>
            
          
            
                <li class="">
                    <a href="../hw-compatibility.html">Version Compatibility</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Datasheets/index.html">Device Datasheets</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Coaxial%20Headstages/index.html">Coaxial Headstages</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Miniscopes/index.html">Miniscopes</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Adapters%20%26%20EIBs/index.html">Adapters & EIBs</a>
                </li>
            
          
            
                <li class="">
                    <a href="../Breakout%20Boards/index.html">Breakout Boards</a>
                </li>
            
          
            
  
                <li class="active">
                    <a href="index.html">PCIe Host</a>
                    <ul>
                    
                        <li class="">
                            <a href="overview.html">Overview</a>
                        </li>
                    
                        <li class="active">
                            <a href="">Setup Guide for Windows</a>
                        </li>
                    
                        <li class="">
                            <a href="gateware-drivers.html">Gateware and Device Drivers</a>
                        </li>
                    
                        <li class="">
                            <a href="multi-board-sync.html">Synchronizing Multiple PCIe Hosts</a>
                        </li>
                    
                    </ul>
                </li>
            
          
        
        
        
        
        
        
      </ul>
  
  </nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#insert-the-pcie-host-module" class="nav-link">Insert the PCIe Host Module</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#put-windows-in-testing-mode" class="nav-link">Put Windows In Testing Mode</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#install-device-driver" class="nav-link">Install Device Driver</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#install-onix-bonsai-library" class="nav-link">Install ONIX Bonsai Library</a>
        </li>
    
    </ul>
</nav>



<div class="tocsection editthispage">
    <a href="https://github.com/open-ephys/onix-docs/edit/master/source/Hardware Guide/PCIe Host/setup-windows.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="setup-guide-for-windows">
<span id="pcie-host-setup-windows"></span><h1>Setup Guide for Windows<a class="headerlink" href="#setup-guide-for-windows" title="Permalink to this headline">¶</a></h1>
<div class="section" id="insert-the-pcie-host-module">
<h2>Insert the PCIe Host Module<a class="headerlink" href="#insert-the-pcie-host-module" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Power off the computer.</p></li>
<li><p>Plug the PCIe host board into an available PCIe slot</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>You do not need to plug the ATX power supply into connector on
the board (although doing so won’t hurt). The PCIe slot itself provides
adequate power to operate the host board.</p>
</div>
</div></blockquote>
</li>
<li><p>Boot the computer.</p></li>
<li><p>The RGB LED in the center of the module should be blue.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>The RGB LED has three color states.</p>
</div>
<ul class="simple">
<li><p>Blue: Ready to go.</p></li>
<li><p>Yellow: Acquisition stopped.</p></li>
<li><p>Pink: Acquisition running.</p></li>
</ul>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="put-windows-in-testing-mode">
<h2>Put Windows In Testing Mode<a class="headerlink" href="#put-windows-in-testing-mode" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As of this writing, the ONIX driver is not digitally signed by
Microsoft, but in a developer testing phase. Following the conclusion of the
beta-test period, we will complete this process and the following steps
will not be required.</p>
</div>
<ol class="arabic">
<li><p>Download the <code class="xref download docutils literal notranslate"><span class="pre">OpenEphysTestDriver.cer</span></code> testing certificate and double
click it.</p></li>
<li><p>On the dialog, select <strong>Install Certificate</strong>.</p>
<blockquote>
<div><div class="figure align-left">
<img alt="../../_images/install-certificate.png" src="../../_images/install-certificate.png" />
</div>
</div></blockquote>
</li>
<li><p>It is recommended to select <strong>Current User</strong> certificate storage option.</p>
<blockquote>
<div><div class="figure align-left">
<img alt="../../_images/certificate-import-current-user.png" src="../../_images/certificate-import-current-user.png" />
</div>
</div></blockquote>
</li>
<li><p>For ease of management, it is recommended to manually select a certificate
storage and chose <strong>Personal</strong>.</p>
<blockquote>
<div><div class="figure align-left">
<img alt="../../_images/certificate-import-personal-storage.png" src="../../_images/certificate-import-personal-storage.png" />
</div>
</div></blockquote>
</li>
<li><p>Open the Windows Start Menu and type <strong>cmd</strong> to find the command prompt
application. Right click it and chose <strong>Run as Administrator</strong>.</p>
<blockquote>
<div><div class="figure align-left">
<img alt="../../_images/cmd-run-as-admin.png" src="../../_images/cmd-run-as-admin.png" />
</div>
</div></blockquote>
</li>
<li><p>Execute the following command: <code class="docutils literal notranslate"><span class="pre">bcdedit</span> <span class="pre">/set</span> <span class="pre">testsigning</span> <span class="pre">on</span></code></p>
<blockquote>
<div><div class="figure align-left">
<img alt="../../_images/windows-test-mode-command.png" src="../../_images/windows-test-mode-command.png" />
</div>
</div></blockquote>
</li>
<li><p>Restart the computer (a complete power cycle is not required).</p></li>
<li><p>You should see now some text at the bottom right of the Desktop indicating that
Windows is operating in testing mode:</p>
<blockquote>
<div><div class="figure align-left">
<img alt="../../_images/windows-test-mode-text.png" src="../../_images/windows-test-mode-text.png" />
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The computer will keep the test state until you run <code class="docutils literal notranslate"><span class="pre">bcdedit</span> <span class="pre">/set</span>
<span class="pre">testsigning</span> <span class="pre">off</span></code> in an administrator command prompt again and reboot the
computer</p>
</div>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="install-device-driver">
<h2>Install Device Driver<a class="headerlink" href="#install-device-driver" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Pre-built drivers target 64-bit Windows 10. Other targets will
need to be compiled from source.</p>
</div>
<ol class="arabic">
<li><p>Download the <code class="xref download docutils literal notranslate"><span class="pre">riffa</span> <span class="pre">driver</span></code> and unzip the archive.</p></li>
<li><p>Open the folder and right right click the <strong>riffa.inf</strong> file.
Select <strong>install</strong> from the context menu.</p></li>
<li><p>Open the start menu and type <strong>device manager</strong> and click to open. You shoul
see <strong>RIFFA</strong> in the device tree.</p>
<blockquote>
<div><div class="figure align-left">
<img alt="../../_images/package-manager-riffa.png" src="../../_images/package-manager-riffa.png" />
</div>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="install-onix-bonsai-library">
<h2>Install ONIX Bonsai Library<a class="headerlink" href="#install-onix-bonsai-library" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>If you don’t have Bonsai on your computer, visit <a class="reference external" href="https://bonsai-rx.org/">https://bonsai-rx.org/</a> and
install the latest release.</p></li>
<li><p>Open Bonsai. At the start menu, select <strong>Manage Packages</strong>.</p>
<blockquote>
<div><div class="figure align-left">
<img alt="../../_images/bonsai-start-menu.png" src="../../_images/bonsai-start-menu.png" />
</div>
</div></blockquote>
</li>
<li><p>Select <strong>Community Packages</strong> as the package source.</p></li>
<li><p>Search for <strong>Bonsai.ONIX</strong>.</p></li>
<li><p>Install <strong>Bonsai.ONIX.Design</strong>. This packages will install both the core
library and visualization tools.</p></li>
<li><p>Have a look at the <a class="reference internal" href="../../Software%20Guide/Bonsai.ONIX%20Reference/index.html#bonsai-onixref"><span class="std std-ref">Bonsai.ONIX Reference</span></a> for usage instructions
and example scripts.</p></li>
</ol>
</div>
</div>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="overview.html" title="previous page">Overview</a>
    <a class='right-next' id="next-link" href="gateware-drivers.html" title="next page">Gateware and Device Drivers</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.d3f166471bb80abb5163.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2010-2021, Open Ephys &amp; Contributors.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.5.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>